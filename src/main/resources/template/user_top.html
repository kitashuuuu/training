<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç­‹è‚‰ã‚’æ‰‹ã«å…¥ã‚Œã‚</title>
  <link href="https://use.fontawesome.com/releases/v6.7.1/css/all.css" rel="stylesheet">
  <link rel="stylesheet" href="/src/main/resources/static/CSS/user_top.css" >
  <link rel="stylesheet" href="/src/main/resources/static/CSS/all.css" >
</head>
<body>
  <div class="cp_cont">
    <div class="cp_offcm04">
      <input type="checkbox" id="cp_toggle04">
      <label for="cp_toggle04"><span></span></label>
      <div class="cp_menu">
      <ul>
      <li><a href="/src/main/resources/template/user_top.html">ãƒ»TOP</a></li>
      <li><a href="../template/user_accountfetch.html">ãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç·¨é›†</a></li>
      <li><a href="/src/main/resources/template/alllunch.html">ãƒ»é£Ÿäº‹è¨˜éŒ²</a></li>
      <li><a href="../template/T.html">ãƒ»ãƒˆãƒ¬ãƒ­ã‚°</a></li>
      <li><a href="#" id="openPopup">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a></li>
      </ul>
      </div>
    </div>
    <div id="popup" class="popup">
      <div class="popup-content">
        <span id="closePopup" class="close-button">&times;</span>
        <h5>ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</h5>
        <p>ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã™ã‹ï¼Ÿ</p>
        <button class="btn-cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <a href="/src/main/resources/template/user_login.html" class="btn-logout">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>    
       
      
      </div>
       <img src="/src/main/resources/static/img/sports_bodybuilder_man.png" alt="å·¦ã®ç”»åƒ" class="new-image">    
    </div>
  
    <script src="/src/main/resources/static/js/pop.js"></script>
    <div class="cp_contents">
      <h1 class="all">Top</h1>
      </div>
    </div>
  </div>
  
  <main>
    <div class="top-content">
      <div class="user-info">
        <div class="container">
          <div class="title-container">
            <img src="/src/main/resources/static/img/sports_bodybuilder_man.png" alt="å·¦ã®ç”»åƒ" class="title-image">
            <h4 class="title-text">ç­‹è‚‰ã‚’æ‰‹ã«å…¥ã‚Œã‚</h4>
            <img src="/src/main/resources/static/img/sports_bodybuilder_man.png" alt="å³ã®ç”»åƒ" class="title-image">
          </div>
          
      </div>
    </div>
    <div class="horizontal-container">
      <span id="welcome-message">ã‚ˆã†ã“ã ã•ã‚“</span>
      <span id="current-weight">ç¾åœ¨ kg</span>

      <h4>ç›®æ¨™ğŸ”¥</div><span class="fire-icon"></span></h4>
      <input type="text" placeholder="60Kgã«ãƒ ã‚­ãƒ ã‚­ã«ãªã‚‹" class="goal-input">
      
      <h3>ä»Šæ—¥ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ—ãƒ©ãƒ³</h3>
      <input type="text" placeholder="ãƒãƒ©ã‚½ãƒ³100km è…¹ç­‹100å›" class="plan-input">
      <div class="plan-container">
      </div>

        <div class="button-container">
          <button class="action-btn" onclick="location.href='user_create%20training%20plan.html'">ãƒ—ãƒ©ãƒ³</button>
          <button class="action-btn" onclick="location.href='user_set%20training%20goals.html'">ç›®æ¨™è¨­å®š</button>
        </div>

      </div>
    </div>
  </main>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
        try {
            const user = JSON.parse(localStorage.getItem("user"));
    
            if (!user) {
                window.location.href = "/src/main/resources/template/user_login.html";
                return;
            }
    
            document.getElementById("welcome-message").textContent = `ã‚ˆã†ã“ã ${user.user_id} ã•ã‚“`;
            document.getElementById("current-weight").textContent = `ç¾åœ¨ ${user.user_weight}kg`;
    
            // ç›®æ¨™ã‚’è¡¨ç¤º
            const goalElement = document.querySelector(".goal-input");
            if (user.user_goal) {
                goalElement.value = user.user_goal;
            } else {
                goalElement.placeholder = "ã“ã“ã«ç›®æ¨™ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„";
            }
    
            // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ—ãƒ©ãƒ³ã‚’è¡¨ç¤º
            const planElement = document.querySelector(".plan-input");
            if (user.user_plan) {
                planElement.value = user.user_plan;
            } else {
                planElement.placeholder = "ã“ã“ã«ãƒ—ãƒ©ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„";
            }
        } catch (error) {
            console.error("ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ:", error);
            window.location.href = "/src/main/resources/template/user_login.html";
        }
    });
    </script>
    
     
</body>
</html>
